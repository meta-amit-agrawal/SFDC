public class AccountContactRelated {
    
    public static void updateAccountWithContactID(Id contactId){
        Contact contactById = [SELECT Account.Id, Account.ContactIDs__c FROM Contact WHERE Id = :contactID];
        Account accountOfContact = contactById.Account;
        if(accountOfContact.ContactIDs__c == null){
            List<Contact> contactRelatedToAccount = [SELECT Id FROM Contact WHERE Account.Id = :accountOfContact.ID];
            List<Id> contactIdList = new List<Id>();
            for(Contact con : contactRelatedToAccount){
                contactIDList.add(con.Id);
            }
            String ContactIds = String.join(contactIDList, ',');
            accountOfContact.ContactIDs__c = ContactIDs;
            update accountOfContact;
        }
        else{
            if(!accountOfContact.ContactIDs__c.contains(contactID)){
                accountOfContact.ContactIDs__c = accountOfContact.ContactIDs__c +', '+contactID;
                update accountOfContact;
            }
        }
    }
    
}